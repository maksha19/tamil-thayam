name: deploy tamil thayam

on: 
  push :
    branches: [main]

jobs:
  thayam:
    runs-on: ubuntu-latest
    timeout-minutes: 5 
    steps:
     - uses: actions/checkout@v3
       with: 
        repository: maksha19/thayam
        token: ${{ secrets.GET_THAYAM }}
     - run: |
        cd src && ls
        node --version
        npm --version
        npx --version
     - uses: actions/setup-node@v3
       with:
        node-version: 14
     - name: Setup git configuration 
       run: | 
         git config --global user.email "my-bot@bot.com"
         git config --global user.name "my-bot"
     - name: Install NPM packages
       run: npm ci
     - name: Install gp-page
       run: npm i gh-pages --save-dev
     - name: Build package
       run: npm run build
       env:
        CI: false
     - run: ls 
     - name: Deploy ðŸš€
     - uses: JamesIves/github-pages-deploy-action@v4.3.3
       with:
         branch: gh-pages # The branch the action should deploy to.
         folder: build # The folder the action should deploy.